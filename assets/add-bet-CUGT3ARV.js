import{u as v,p as f,w as y}from"./AppStateContext-DCPBP0Xv.js";import{t as k,a as u,o as e}from"./chunk-D4RADZKF-Drok4T1o.js";const j=["Winner","Total","Handicap","Other"],w=["Pending","Won","Lost","Draw"];function N(){return Math.random().toString(36).substring(2,10)}function B(){const{dispatch:c,state:l}=v(),m=k(),[t,b]=u.useState({date:new Date().toISOString().slice(0,16),type:"Winner",amount:0,odds:1,outcome:"Pending",notes:"",favorite:!1}),[s,i]=u.useState(null);function n(a){const{name:o,value:d,type:r}=a.target,p=r==="checkbox"&&a.target.checked;b(h=>({...h,[o]:r==="checkbox"?p:o==="amount"||o==="odds"?Number(d):d}))}async function x(a){if(a.preventDefault(),l.wallet&&t.amount>l.wallet.balance){i({type:"error",message:"Insufficient wallet balance to place this bet."});return}try{const o=t.outcome==="Won"?t.amount*t.odds:0,d=t.outcome==="Won"?t.amount*(t.odds-1):t.outcome==="Lost"?-t.amount:0,r={...t,id:N(),payout:o,profit:d};c({type:"ADD_BET",bet:r}),await f("bets",r),i({type:"success",message:"Bet added successfully!"}),setTimeout(()=>m("/"),800)}catch{i({type:"error",message:"Failed to add bet. Please try again."})}}function g(a){a.preventDefault(),m("/")}return e.jsxs("form",{className:"space-y-6",onSubmit:x,style:{background:"var(--bg-card)",color:"var(--text-main)",borderRadius:16,padding:24,boxShadow:"0 2px 16px rgba(0,0,0,0.08)",transition:"background 0.3s, color 0.3s"},children:[s&&e.jsx("div",{style:{background:s.type==="success"?"#bbf7d0":"#fecaca",color:s.type==="success"?"#166534":"#991b1b",borderRadius:8,padding:"8px 0",textAlign:"center",marginBottom:8},children:s.message}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Date & Time"}),e.jsx("input",{type:"datetime-local",name:"date",value:t.date,onChange:n,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Bet Type"}),e.jsx("select",{name:"type",value:t.type,onChange:n,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},children:j.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Amount"}),e.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:n,min:0,step:.01,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},required:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Odds"}),e.jsx("input",{type:"number",name:"odds",value:t.odds,onChange:n,min:1,step:.01,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Outcome"}),e.jsx("select",{name:"outcome",value:t.outcome,onChange:n,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},children:w.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Notes"}),e.jsx("textarea",{name:"notes",value:t.notes,onChange:n,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},rows:2})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"favorite",checked:t.favorite,onChange:n,style:{accentColor:"var(--accent)",marginRight:8}}),e.jsx("label",{className:"font-semibold",children:"Favorite"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"submit",style:{background:"var(--accent)",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",width:"100%",fontWeight:600,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"background 0.2s"},children:"Add Bet"}),e.jsx("button",{type:"button",onClick:g,style:{background:"#aaa",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",width:"100%",fontWeight:600,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"background 0.2s"},children:"Cancel"})]})]})}function C(){return e.jsxs("main",{className:"relative min-h-screen flex items-center justify-center py-8 overflow-hidden",style:{background:"linear-gradient(135deg, var(--gradient-from), var(--gradient-via), var(--gradient-to))",transition:"background 0.3s"},children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[60vw] h-[30vw] max-w-2xl blur-3xl opacity-40 rounded-full -z-10",style:{background:"linear-gradient(120deg, var(--gradient-from), var(--gradient-via), var(--gradient-to))"}}),e.jsxs("div",{className:"w-full max-w-lg backdrop-blur rounded-2xl shadow-2xl border p-10",style:{background:"var(--bg-card)",color:"var(--text-main)",borderColor:"rgba(0,0,0,0.08)",transition:"background 0.3s, color 0.3s"},children:[e.jsx("h1",{className:"text-3xl font-extrabold mb-8 text-center tracking-tight",style:{background:"linear-gradient(90deg, var(--gradient-from), var(--accent), var(--gradient-to))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Add New Bet"}),e.jsx(B,{})]})]})}function A({}){return[{title:"Add Bet"},{name:"description",content:"Add a new bet"}]}const W=y(function(){return e.jsx(C,{})});export{W as default,A as meta};
