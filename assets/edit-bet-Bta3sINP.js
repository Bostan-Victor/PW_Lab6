import{w as y}from"./with-props-D2bi8E8X.js";import{t as k,s as j,a as b,o as e}from"./chunk-D4RADZKF--V6p8_Oh.js";import{u as w,p as B}from"./AppStateContext-DGFP7Kgm.js";const N=["Winner","Total","Handicap","Other"],C=["Pending","Won","Lost","Draw"];function E(){const{state:r,dispatch:p}=w(),g=k(),h=j(),v=g.id,a=r.bets.find(o=>o.id===v),[t,x]=b.useState(null),[c,u]=b.useState(null);if(b.useEffect(()=>{a&&x({date:a.date,type:a.type,amount:a.amount,odds:a.odds,outcome:a.outcome,notes:a.notes||"",favorite:a.favorite})},[a]),!a||!t)return e.jsx("div",{children:"Bet not found."});function n(o){const{name:s,value:i,type:l}=o.target,m=l==="checkbox"&&o.target.checked;x(d=>d?{...d,[s]:l==="checkbox"?m:s==="amount"||s==="odds"?Number(i):i}:null)}async function f(o){if(o.preventDefault(),!t||!a)return;const s=t.amount-a.amount;if(r.wallet&&s>r.wallet.balance){u({type:"error",message:"Insufficient wallet balance to increase this bet."});return}try{const i=t.outcome==="Won"?t.amount*t.odds:0,l=t.outcome==="Won"?t.amount*(t.odds-1):t.outcome==="Lost"?-t.amount:0,m={...t,id:a.id,payout:i,profit:l};p({type:"SET_BETS",bets:r.bets.map(d=>d.id===a.id?m:d)}),await B("bets",m),u({type:"success",message:"Bet updated successfully!"}),setTimeout(()=>h("/"),800)}catch{u({type:"error",message:"Failed to update bet. Please try again."})}}return e.jsxs("form",{className:"space-y-6",onSubmit:f,style:{background:"var(--bg-card)",color:"var(--text-main)",borderRadius:16,padding:24,boxShadow:"0 2px 16px rgba(0,0,0,0.08)",transition:"background 0.3s, color 0.3s"},children:[c&&e.jsx("div",{style:{background:c.type==="success"?"#bbf7d0":"#fecaca",color:c.type==="success"?"#166534":"#991b1b",borderRadius:8,padding:"8px 0",textAlign:"center",marginBottom:8},children:c.message}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Date & Time"}),e.jsx("input",{type:"datetime-local",name:"date",value:t.date,onChange:n,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Bet Type"}),e.jsx("select",{name:"type",value:t.type,onChange:n,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},children:N.map(o=>e.jsx("option",{value:o,children:o},o))})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Amount"}),e.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:n,min:0,step:.01,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},required:!0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Odds"}),e.jsx("input",{type:"number",name:"odds",value:t.odds,onChange:n,min:1,step:.01,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Outcome"}),e.jsx("select",{name:"outcome",value:t.outcome,onChange:n,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},children:C.map(o=>e.jsx("option",{value:o,children:o},o))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Notes"}),e.jsx("textarea",{name:"notes",value:t.notes,onChange:n,style:{background:"var(--bg-main)",color:"var(--text-main)",border:"1px solid #ccc",borderRadius:8,padding:"8px 12px",width:"100%",marginBottom:8},rows:2})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"favorite",checked:t.favorite,onChange:n,style:{accentColor:"var(--accent)",marginRight:8}}),e.jsx("label",{className:"font-semibold",children:"Favorite"})]}),e.jsx("button",{type:"submit",style:{background:"var(--accent)",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",width:"100%",fontWeight:600,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"background 0.2s"},children:"Save Changes"})]})}function R(){return e.jsxs("main",{className:"relative min-h-[80vh] flex items-center justify-center py-8 overflow-hidden",style:{background:"linear-gradient(135deg, var(--gradient-from), var(--gradient-via), var(--gradient-to))",transition:"background 0.3s"},children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[60vw] h-[30vw] max-w-2xl blur-3xl opacity-40 rounded-full -z-10",style:{background:"linear-gradient(120deg, var(--gradient-from), var(--gradient-via), var(--gradient-to))"}}),e.jsxs("div",{className:"w-full max-w-lg backdrop-blur rounded-2xl shadow-2xl border p-10",style:{background:"var(--bg-card)",color:"var(--text-main)",borderColor:"rgba(0,0,0,0.08)",transition:"background 0.3s, color 0.3s"},children:[e.jsx("h1",{className:"text-3xl font-extrabold mb-8 text-center tracking-tight",style:{background:"linear-gradient(90deg, var(--gradient-from), var(--accent), var(--gradient-to))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Edit Bet"}),e.jsx(E,{})]})]})}function F(){return[{title:"Edit Bet"},{name:"description",content:"Edit an existing bet"}]}const P=y(function(){return e.jsx(R,{})});export{P as default,F as meta};
